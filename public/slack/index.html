<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"/>
<title>Login Demo - Slack</title>
<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script type='text/javascript'>
    function sendWebhooks() {
        $.ajax({
            url: '/slack/send/webhooks',
                dataType: 'json',
                type: 'POST',
                data: {
                    message: $('#webhooks').val()
                },
                success: function(response) {
                    if (response.result == 0) {
                        alert('success');
                    } else {
                        alert('fail');
                    }
                },
                error: function (error) {
                    alert('fail');
                }
            });
    }

    function sendMessage() {
        $.ajax({
            url: '/slack/send/message',
            dataType: 'json',
            type: 'POST',
            data: {
                accessToken: $('#accessToken').val(),
                message: $('#message').val()
            },
            success: function(response) {
                if (response.result == 0) {
                    alert('success');
                } else {
                    alert('fail');
                }
            },
            error: function (error) {
                alert('fail');
            }
        });
    }

    function sendBot() {
        $.ajax({
            url: '/slack/send/bot',
            dataType: 'json',
            type: 'POST',
            data: {
                message: $('#botMessage').val()
            },
            success: function(response) {
                if (response.result == 0) {
                    alert('success');
                } else {
                    alert('fail');
                }
            },
            error: function (error) {
                alert('fail');
            }
        });
    }
</script>
</head>
<body>
    <section>
        <h2>Incomming Webhooks</h2>
        <div>
            <label for="webhooks">
                message
                <input type="text" id="webhooks" />
            </label>
        </div>
        <button onclick="sendWebhooks();">메세지 보내기</button>
    </section>
    <section>
        <h2>Sendign Messages</h2>
        <div>
            <label for="message">
                message
                <input type="text" id="message" />
            </label>
        </div>
        <button onclick="sendMessage();">메세지 보내기</button>
    </section>
    <section>
        <h2>Bot Users</h2>
        <div>
            <label for="botMessage">
                message
                <input type="text" id="botMessage" />
            </label>
        </div>
        <button onclick="sendBot();">메세지 보내기</button>
    </section>
</body>
</html>